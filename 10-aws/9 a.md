Here is the next one in your requested format.

---

# **143. Developer Deleted Critical Resources (S3, RDS, EC2). What will you do?**

---

## **1. Question**

**A developer accidentally deleted critical AWS resources like S3 buckets, RDS databases, or EC2 instances. What will you do?**

---

## **2. Short Explanation**

This tests your **disaster recovery (DR)** knowledge, backups, IAM controls, auditing, and recovery strategy.

---

## **3. Answer (Short & Crisp)**

Use **CloudTrail** to confirm who deleted it, restore from **RDS snapshots**, **S3 versioning**, **backup vault**, or **EC2 AMIs**, and immediately fix IAM to prevent reoccurrence.

---

## **4. Detailed Explanation**

### **1. Check CloudTrail to Identify the Deletion Event**

CloudTrail shows:

* *Who* deleted
* *When* deleted
* *Which API* was called (`DeleteBucket`, `DeleteDBInstance`, `TerminateInstances`)
* Whether it is **intentional or accidental**

This helps confirm the root cause.

---

## ‚ùó Recovery Steps Per Resource

---

### **2. Recovering Deleted S3 Bucket**

Depends on configuration:

#### **If Versioning Enabled**

* All objects can be restored (nothing is permanently lost).
* Delete markers can be removed.

#### **If S3 Object Lock Enabled**

* Data is **undeletable** within retention period ‚Üí instantly recoverable.

#### **If Versioning Disabled**

* Recovery depends on backup tools (AWS Backup, 3rd party).
* Otherwise, **irreversible loss**.

---

### **3. Recovering Deleted RDS Database**

If `DeleteProtection` was **enabled**, deletion would have failed.

Otherwise recovery options:

#### **Automated Backups**

* Restore to a point in time.

#### **Manual Snapshots**

* Restore full DB instance.

#### **AWS Backup Vault**

* Restore directly from the backup job.

**Note:** A restored instance gets a new endpoint ‚Üí application must update DSN.

---

### **4. Recovering Deleted EC2 Instance**

Recovery through:

#### **AMIs**

If AMI exists ‚Üí launch new instance.

#### **EBS Snapshots**

* Recreate volumes
* Attach to new EC2 instance

#### **AWS Backup Vault**

* Restore full instance

If nothing exists, **data is lost**.

---

## üîí **5. IAM Controls to Prevent Future Deletion**

Implement strong guardrails:

### **IAM Preventive Best Practices**

* Remove `Delete*` permissions for developers
* Use **least privilege**
* Use **resource-based permissions**
* Use **permissions boundaries**
* Use **SCPs (Service Control Policies)** in Organizations for guardrails

Example SCP:

```
Deny DeleteBucket 
Deny DeleteDBInstance 
Deny TerminateInstances 
```

---

## üõ°Ô∏è **6. Enable Delete Protection Everywhere**

### EC2:

* Termination Protection

### RDS:

* Delete Protection

### S3:

* Enable Versioning + MFA Delete

---

## üßØ **7. Evaluate the Impact**

Notify:

* Application owners
* Security team
* Management

Check:

* Data loss
* Service downtime
* SLA violations

Mitigate and document.

---

## **5. Summary Table**

| Resource              | Recovery Method                          |
| --------------------- | ---------------------------------------- |
| **S3**                | Versioning, Object Lock, Backup Vault    |
| **RDS**               | Automated backups, snapshots, AWS Backup |
| **EC2**               | AMI, EBS snapshots, AWS Backup           |
| **IAM Misuse**        | Audit CloudTrail, fix permissions        |
| **Future Prevention** | SCPs, delete protection, MFA delete      |

---

## **6. Key Takeaway**

**Recovery depends on backups + versioning. Prevention depends on IAM guardrails, delete protection, and S3 versioning.**

---

Ready for **144. Explain a cost optimization activity you performed in the current organization?**
