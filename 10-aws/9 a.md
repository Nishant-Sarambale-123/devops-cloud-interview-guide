Here is the next one in the **same detailed interview format**.

---

# **142. What will you do when AWS RDS Storage is Full?**

---

## **1. Question**

**Your AWS RDS storage is almost full or already 100%. What will you do?**

---

## **2. Short Explanation**

This checks your ability to **handle production database issues**, scaling, backups, monitoring, and preventing outages.

---

## **3. Answer (Short & Crisp)**

Enable **storage autoscaling**, increase allocated storage manually, clean old logs, optimize tables, and check for long-running queries or abnormal growth. Monitor using CloudWatch and set alerts.

---

## **4. Detailed Explanation**

When RDS storage fills up, the database can become **read-only** or **stop responding**, so quick action is needed.

---

### âœ… **1. Enable RDS Storage Auto-Scaling (Best Production Fix)**

RDS supports **Automatic Storage Scaling**.

Path:
**RDS â†’ Modify DB â†’ Storage â†’ Enable Storage Autoscaling**

Set:

* Maximum storage threshold
* Autoscaling setting

This prevents future storage-full incidents.

---

### âœ… **2. Manually Increase Allocated Storage**

If autoscaling is OFF:

* Modify DB instance
* Increase allocated storage (e.g., from 100GB â†’ 150GB)

ðŸ‘‰ **This is a zero-downtime operation.**

---

### âœ… **3. Check for Abnormal Growth**

Investigate sudden increase:

* Application bug
* Loops creating massive logs
* Table bloating
* Unnecessary temporary files

SQL query:

```sql
SELECT table_schema, SUM(data_length + index_length)/1024/1024 AS size_mb
FROM information_schema.tables
GROUP BY table_schema;
```

---

### âœ… **4. Clean Up Old Logs**

You can delete:

* Old binary logs
* Transaction logs
* Unused backups
* Audit logs

For MySQL:

```sql
CALL mysql.rds_purge_binlog('mysql-bin.000123');
```

---

### âœ… **5. Optimize Tables / Vacuum (Postgres)**

For MySQL:

```sql
OPTIMIZE TABLE table_name;
```

For PostgreSQL:

```sql
VACUUM FULL;
```

This can reclaim space.

---

### âœ… **6. Fix Long-running/Uncommitted Transactions**

Long transactions generate large transaction logs.

Check queries:

```sql
SELECT * FROM information_schema.processlist;
```

Terminate stuck queries if needed.

---

### âœ… **7. Verify Backups and Snapshots**

Unnecessary snapshots consume space (especially manual ones).

Go to:
**RDS â†’ Snapshots**
Delete older manual snapshots.

---

### âœ… **8. Monitor with CloudWatch**

Set alarms on:

* FreeStorageSpace
* Database connections
* WriteIOPS

Example alarm:

```
FreeStorageSpace < 10 GB â†’ Alarm â†’ SNS Notification
```

---

## **5. Summary Table**

| Issue                | Symptom                    | Fix                        |
| -------------------- | -------------------------- | -------------------------- |
| No auto-scaling      | Sudden storage fill        | Enable auto-scaling        |
| Bloating tables      | Large table size           | VACUUM/OPTIMIZE            |
| Old logs             | High storage usage         | Purge logs                 |
| Long transactions    | High transaction log usage | Kill long-running queries  |
| Application bug      | Unusual data growth        | Fix app logic              |
| Insufficient storage | DB read-only               | Increase allocated storage |

---

## **6. Key Takeaway**

**First increase/enable storage autoscaling, then investigate root cause to prevent repeat incidents.**

---

Next answer:
**143. Developer Deleted Critical Resources like S3, RDS and EC2. What will you do?**
